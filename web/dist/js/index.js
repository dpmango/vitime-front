$(document).ready(function(){function e(){$(".svg-index").each(function(e,a){for(var n=$(a).find("path"),o=0;o<n.length;o++)$(n[o]).css("stroke-dasharray",t(n[o])),$(n[o]).css("stroke-dashoffset",t(n[o]))})}function t(e){return e.getTotalLength()}function a(e){for(var t=$(e).find("path.line-svg"),a=$(e).find("path.line-svg-ar"),n=0;n<t.length;n++)(new TimelineMax).add(TweenMax.to(t[n],.5,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){(new TimelineMax).add(TweenMax.to(a,.1,{strokeDashoffset:0,ease:Linear.easeNone}))}}))}function n(e){for(var t=$(e).find("path:not(.line-svg,.line-svg-ar)"),n=0;n<t.length;n++)(new TimelineMax).add(TweenMax.to(t[n],.8,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){a(e)}}))}function o(){$(window).on("resize",function(){var e=$(window).width();$(".triangle-left").css("borderLeftWidth",e+"px"),$(".triangle-right").css("borderRightWidth",e+"px")}).trigger("resize")}function r(e,t,a){var n=$(".fotorama");if(0==n.length)return!1;var o=n.fotorama(),r=o.data("fotorama");(e||t)&&r.resize({height:e}),n.on("fotorama:show fotorama:showend",function(e,t){"fotorama:show"==e.type||(startIndexTxt().startH1.textillate("start"),startIndexTxt().startH3.textillate("start"))}),a&&r.show(a)}function i(){$(window).on("resize",function(){var e=$(window).width();e>1023&&r(600),e>768&&e<=1023&&(r(550),s("","","",500)),e>=640&&e<=768&&(r(500),s("","","",450)),e<640&&(r(480),s("","","",350))}).trigger("resize")}function s(e,t,a,n){var o=$(".fotorama-cen");if(0==o.length)return!1;var r=o.fotorama(),i=r.data("fotorama");o.on("fotorama:show fotorama:showend",function(e,t){c(!1,t.activeIndex)}),e&&i.show(e),n&&i.resize({height:n})}function c(e,t){var a=$(".nav-list-cen");a.find("li").removeClass("active"),e&&e.addClass("active"),(t||0==t)&&a.find("li[data-slide="+t+"]").addClass("active")}e();var d=new ScrollMagic.Controller;$(".svg-index").each(function(e,t){new ScrollMagic.Scene({triggerElement:t,triggerHook:.6,reverse:!1}).on("start",function(){n(t)}).addTo(d)});var l=new ScrollMagic.Controller;$(".name-rotate").each(function(e,t){new ScrollMagic.Scene({triggerElement:t,triggerHook:.6}).on("start",function(){$(t).addClass("active")}).addTo(l)}),o();var f=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:"#fot-center",triggerHook:.9,reverse:!1}).on("start",function(){s(1)}).addTo(f),r(),$(function(){$(".fotorama__nav__frame--dot").each(function(e){$(this).addClass("num-sl"+e),$(this).children().text("0"+(e+1)),5==+e&&$(".fotorama__nav__shaft").after('<div class="ar-sl ar-sl-r" data-slide=">"></div>')})}),$(document).on("click",".ar-sl",function(e){var t=$(this),a=t.attr("data-slide");r(!1,!1,a)}),i(),s(),$(document).on("click",".nav-list-cen li:not('.arrow-cen')",function(e){var t=$(this);if(!t.hasClass("active")){var a=t.attr("data-slide");s(a),c($(this),!1)}}),$(document).on("click",".nav-list-cen li.arrow-cen",function(e){var t=$(this);if(!t.hasClass("active")){var a=t.attr("data-slide");s(a)}}),$(".venobox").venobox(),$(document).on("click",".link-change",function(e){var t=$(this),a=t.find(".nav-change-product"),n=t.parent().parent(),o=n.find(".change-product-main"),r=o.attr("src");o.addClass("hide-change-img"),a.addClass("hide-change-img"),setTimeout(function(){o.attr("src",a.attr("src")).removeClass("hide-change-img"),a.attr("src",r).removeClass("hide-change-img")},200)})});